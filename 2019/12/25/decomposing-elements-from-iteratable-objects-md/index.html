<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <title>
        Python-ticks |
        
        及时行乐
    </title>
    <link rel="shortcut icon" href="/images/favicons.ico">
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.0.4/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"cx4.github.io","root":"/","path":"search.xml"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true},"style":{"primary_color":"#CC6600","avatar":"/images/avatar.png","favicon":"/images/favicons.ico","img_position":"center","left_side_width":"260px","content_max_width":"900px","hover":{"shadow":true,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"The higher I got, the more amazed I was by the view."}},"local_search":{"enable":true,"trigger":"auto","unescape":false,"preload":true},"version":"3.0.4"};
    KEEP.language = {"search":"搜索...","prev":"上一页","next":"下一页","prev_posts":"上一篇","next_posts":"下一篇","page":"第 %d 页","recent_posts":"最新文章","share":"分享","powered_by":"由 %s 驱动","theme":"主题","rss_feed":"RSS Feed","category":"分类","categories":"分类","tag":"标签","tags":"标签","tagcloud":"标签云","comment":"评论","home":"首页","archive":"归档","archives":"归档","about":"关于","site_uv":"访问人数","site_pv":"总访问量","links":"友链","link":"友链","top":"顶置","read_more":"阅读全文","wordcount":"字","min2read":"分钟","changelog":"更新日志","copyright":{"title":"本文标题","author":"本文作者","link":"本文链接","create_time":"创建时间","license_title":"版权声明","license_content":"本博客所有文章除特别声明外，均采用 %s 许可协议。转载请注明出处！"},"ago":{"second":"%s 秒前","minute":"%s 分钟前","hour":"%s 小时前","day":"%s 天前","week":"%s 周前","month":"%s 月前","year":"%s 年前"}};
  </script>
<meta name="generator" content="Hexo 4.1.1"></head>


<body>
<div class="page-container">

    

    <header class="page-header">
        <div class="header-progress"></div>
    </header>

    <main class="page-main">

        <div class="page-main-content">

            <div class="page-main-content-top">
                <header class="header-wrapper">

    <div class="header-content">
        <a class="logo-title" href="/">
            及时行乐
        </a>

        <ul class="menu-list">
            
                <li class="menu-item">
                    <a class=""
                       href="/"
                    >
                        首页
                    </a>
                </li>
            
                <li class="menu-item">
                    <a class=""
                       href="/archives"
                    >
                        归档
                    </a>
                </li>
            
                <li class="menu-item">
                    <a class=""
                       href="/categories"
                    >
                        分类
                    </a>
                </li>
            
                <li class="menu-item">
                    <a class=""
                       href="/tags"
                    >
                        标签
                    </a>
                </li>
            
                <li class="menu-item">
                    <a class=""
                       href="/about"
                    >
                        关于
                    </a>
                </li>
            
        </ul>

        <div class="menu-bar">
            <div class="menu-bar-middle"></div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">首页</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">归档</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">分类</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">标签</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">关于</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


            </div>

            <div class="page-main-content-middle">

                <main class="main-content normal-code-theme">

                    
                        <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">Python-ticks</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.png">
                </div>
                <div class="info">
                    <div class="author">
                        <span>Roy</span>
                        <span class="level">Lv6</span>
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-calendar"></i> 2019-12-25 08:53:55
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>
            <ul>
                
                    <li>
                        <a href="/categories/docs/">docs</a>
                    </li>
                
                    <li>
                        &gt; <a href="/categories/docs/python/">python</a>
                    </li>
                
                    <li>
                        &gt; <a href="/categories/docs/python/index/">index</a>
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>
            <ul>
                
                    <li>
                        <a href="/tags/Python/">Python</a>
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i> <span>2.5k 字</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i> <span>14 分钟</span>
        </span>
    
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <p>整理和维护经常会用到的python技巧</p>
<a id="more"></a>

<ol>
<li><strong>Upack</strong></li>
</ol>
<p><strong>当需要从某个可迭代对象中分决出N个元素，但是这个可迭代对象的长度可能超过N，这会导致“分解的值过多（too many values to unpack）”的异常</strong></p>
 <div>
 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.273 19.469c-.662-.662-1.582-1.002-2.514-.931-1.767.137-3.58-.47-4.931-1.821-1.223-1.224-1.83-2.824-1.83-4.426 0-.604.086-1.208.258-1.792l3.771 3.771c1.912.417 4.652-2.353 4.242-4.242l-3.769-3.771c.583-.171 1.187-.257 1.79-.257 1.603 0 3.202.606 4.428 1.83 1.35 1.351 1.957 3.164 1.82 4.93-.072.933.268 1.853.93 2.514l2.843 2.843c1.066-1.793 1.689-3.88 1.689-6.117 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.236 0 4.323-.623 6.115-1.688l-2.842-2.843z"/></svg>
 </div>解决方案

<p>使用python的“*表达式”可以解决这个问题。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">drop_first_last</span><span class="hljs-params">(grades)</span>:</span><br>	first,*middle,last = grades<br>	<span class="hljs-keyword">return</span> avg(middle)<br></code></pre></td></tr></table></figure>

<p><strong>在分解任意长度的可迭代对象时特别好用</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python">records =[<br>	(<span class="hljs-string">'foo'</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>),<br>	(<span class="hljs-string">'bar'</span>,<span class="hljs-string">'hello'</span>),<br>	(<span class="hljs-string">'foo'</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>),<br>]<br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">do_foo</span><span class="hljs-params">(x,y)</span>:</span><br>	print(<span class="hljs-string">'foo'</span>,x,y)<br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">do_bar</span><span class="hljs-params">(s)</span>:</span><br>	print(<span class="hljs-string">'bar'</span>,s)<br><span class="hljs-keyword">for</span> tag,*args <span class="hljs-keyword">in</span> records:<br>	<span class="hljs-keyword">if</span> tag==<span class="hljs-string">'foo'</span>:<br>		do_foo(*args)<br>	<span class="hljs-keyword">elif</span> tag==<span class="hljs-string">'bar'</span>:<br>		do_bar(*args)<br></code></pre></td></tr></table></figure>

<ol start="2">
<li><strong>步进切片</strong><br>从列表中创建一定间隔的新列表</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>a[::<span class="hljs-number">2</span>]<br>[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>a[::<span class="hljs-number">3</span>]<br>[<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>a[<span class="hljs-number">2</span>:<span class="hljs-number">8</span>:<span class="hljs-number">2</span>]<br>[<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>]<br></code></pre></td></tr></table></figure>

<p>list slice with step (a[start:end:step])</p>
<ol start="3">
<li><strong>生成倒叙的list</strong></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>a[::<span class="hljs-number">-1</span>]<br>[<span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>a[::<span class="hljs-number">-2</span>]<br>[<span class="hljs-number">10</span>, <span class="hljs-number">8</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure>

<ol start="4">
<li><p><strong>命名切片的调用</strong><br>Naming slices (slice(start,end,step))</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>LASTTHREE = slice(<span class="hljs-number">-3</span>, <span class="hljs-literal">None</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>LASTTHREE<br>slice(<span class="hljs-number">-3</span>, <span class="hljs-literal">None</span>, <span class="hljs-literal">None</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>a[LASTTHREE]<br>[<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>遍历列表的索引和值</strong><br>Iterating over list index and value pairs (enumerate)</p>
</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-meta">&gt;&gt;</span>&gt; a = [<span class="hljs-string">'Hello'</span>, <span class="hljs-string">'world'</span>, <span class="hljs-string">'!'</span>]<br><span class="hljs-meta">&gt;&gt;</span>&gt; for i, x in enumerate(a):<br>...     print <span class="hljs-string">'&#123;&#125;: &#123;&#125;'</span>.format(i, x)<br>...<br><span class="hljs-number">0</span>: Hello<br><span class="hljs-number">1</span>: world<br><span class="hljs-number">2</span>: !<br></code></pre></td></tr></table></figure>

<ol start="6">
<li><strong>遍历字典</strong><br>dict.iteritems</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>m = &#123;<span class="hljs-string">'a'</span>: <span class="hljs-number">1</span>, <span class="hljs-string">'b'</span>: <span class="hljs-number">2</span>, <span class="hljs-string">'c'</span>: <span class="hljs-number">3</span>, <span class="hljs-string">'d'</span>: <span class="hljs-number">4</span>&#125;<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> m.iteritems():<br><span class="hljs-meta">... </span>    <span class="hljs-keyword">print</span> <span class="hljs-string">'&#123;&#125;: &#123;&#125;'</span>.format(k, v)<br>...<br>a: <span class="hljs-number">1</span><br>c: <span class="hljs-number">3</span><br>b: <span class="hljs-number">2</span><br>d: <span class="hljs-number">4</span><br></code></pre></td></tr></table></figure>

<ol start="7">
<li><p><strong>压缩和解压缩列表</strong><br>Zipping and unzipping lists</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>b = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>z = zip(a, b)<br><span class="hljs-meta">&gt;&gt;&gt; </span>z<br>[(<span class="hljs-number">1</span>, <span class="hljs-string">'a'</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">'b'</span>), (<span class="hljs-number">3</span>, <span class="hljs-string">'c'</span>)]<br><span class="hljs-meta">&gt;&gt;&gt; </span>zip(*z)<br>[(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>), (<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>)]<br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>使用zip分组相邻的列表项</strong><br>Grouping adjacent list items using zip</p>
</li>
</ol>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><br>&gt;&gt;&gt; # Using iterators<br>&gt;&gt;&gt; group_adjacent = lambda a, k: zip(*([iter(a)] * k))<br>&gt;&gt;&gt; group_adjacent(a, <span class="hljs-number">3</span>)<br>[(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>)]<br>&gt;&gt;&gt; group_adjacent(a, <span class="hljs-number">2</span>)<br>[(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>), (<span class="hljs-number">5</span>, <span class="hljs-number">6</span>)]<br>&gt;&gt;&gt; group_adjacent(a, <span class="hljs-number">1</span>)<br>[(<span class="hljs-number">1</span>,), (<span class="hljs-number">2</span>,), (<span class="hljs-number">3</span>,), (<span class="hljs-number">4</span>,), (<span class="hljs-number">5</span>,), (<span class="hljs-number">6</span>,)]<br><br><br>&gt;&gt;&gt; # Using slices<br>&gt;&gt;&gt; <span class="hljs-keyword">from</span> itertools <span class="hljs-keyword">import</span> islice<br>&gt;&gt;&gt; group_adjacent = lambda a, k: zip(*(islice(a, i, None, k) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(k)))<br>&gt;&gt;&gt; group_adjacent(a, <span class="hljs-number">3</span>)<br>[(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>)]<br>&gt;&gt;&gt; group_adjacent(a, <span class="hljs-number">2</span>)<br>[(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>), (<span class="hljs-number">5</span>, <span class="hljs-number">6</span>)]<br>&gt;&gt;&gt; group_adjacent(a, <span class="hljs-number">1</span>)<br>[(<span class="hljs-number">1</span>,), (<span class="hljs-number">2</span>,), (<span class="hljs-number">3</span>,), (<span class="hljs-number">4</span>,), (<span class="hljs-number">5</span>,), (<span class="hljs-number">6</span>,)]<br></code></pre></td></tr></table></figure>

<ol start="9">
<li><strong>使用滑动窗口迭代器</strong><br>Sliding windows (nn -grams) using zip and iterators</li>
</ol>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; <span class="hljs-keyword">from</span> itertools <span class="hljs-keyword">import</span> islice<br>&gt;&gt;&gt; def n_grams(a, n):<br>...     z = (islice(a, i, None) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(n))<br>...     <span class="hljs-keyword">return</span> zip(*z)<br>...<br>&gt;&gt;&gt; a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br>&gt;&gt;&gt; n_grams(a, <span class="hljs-number">3</span>)<br>[(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>)]<br>&gt;&gt;&gt; n_grams(a, <span class="hljs-number">2</span>)<br>[(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>), (<span class="hljs-number">4</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">5</span>, <span class="hljs-number">6</span>)]<br>&gt;&gt;&gt; n_grams(a, <span class="hljs-number">4</span>)<br>[(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>)]<br></code></pre></td></tr></table></figure>

<ol start="10">
<li><p><strong>字典的键值反转</strong><br>Inverting a dictionary using zip</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-meta">&gt;&gt;</span>&gt; m = &#123;<span class="hljs-string">'a'</span>: <span class="hljs-number">1</span>, <span class="hljs-string">'b'</span>: <span class="hljs-number">2</span>, <span class="hljs-string">'c'</span>: <span class="hljs-number">3</span>, <span class="hljs-string">'d'</span>: <span class="hljs-number">4</span>&#125;<br><span class="hljs-meta">&gt;&gt;</span>&gt; m.items()<br>[(<span class="hljs-string">'a'</span>, <span class="hljs-number">1</span>), (<span class="hljs-string">'c'</span>, <span class="hljs-number">3</span>), (<span class="hljs-string">'b'</span>, <span class="hljs-number">2</span>), (<span class="hljs-string">'d'</span>, <span class="hljs-number">4</span>)]<br><span class="hljs-meta">&gt;&gt;</span>&gt; zip(m.values(), m.keys())<br>[(<span class="hljs-number">1</span>, <span class="hljs-string">'a'</span>), (<span class="hljs-number">3</span>, <span class="hljs-string">'c'</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">'b'</span>), (<span class="hljs-number">4</span>, <span class="hljs-string">'d'</span>)]<br><span class="hljs-meta">&gt;&gt;</span>&gt; mi = dict(zip(m.values(), m.keys()))<br><span class="hljs-meta">&gt;&gt;</span>&gt; mi<br>&#123;<span class="hljs-number">1</span>: <span class="hljs-string">'a'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'b'</span>, <span class="hljs-number">3</span>: <span class="hljs-string">'c'</span>, <span class="hljs-number">4</span>: <span class="hljs-string">'d'</span>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>展开列表</strong><br>Flattening lists</p>
</li>
</ol>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; a = [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>]]<br>&gt;&gt;&gt; list(itertools.chain.from_iterable(a))<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br>&gt;&gt;&gt; sum(a, [])<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br>&gt;&gt;&gt; [x <span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> a <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> l]<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br>&gt;&gt;&gt; a = [[[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]], [[<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]]]<br>&gt;&gt;&gt; [x <span class="hljs-keyword">for</span> l1 <span class="hljs-keyword">in</span> a <span class="hljs-keyword">for</span> l2 <span class="hljs-keyword">in</span> l1 <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> l2]<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br>&gt;&gt;&gt; a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>], [[<span class="hljs-number">5</span>, <span class="hljs-number">6</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>]]]<br>&gt;&gt;&gt; flatten = lambda x: [y <span class="hljs-keyword">for</span> l <span class="hljs-keyword">in</span> x <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> flatten(l)] <span class="hljs-keyword">if</span> type(x) <span class="hljs-keyword">is</span> list <span class="hljs-keyword">else</span> [x]<br>&gt;&gt;&gt; flatten(a)<br>[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>]<br></code></pre></td></tr></table></figure>

<ol start="12">
<li><strong>生成器表达式</strong><br>Generator expressions</li>
</ol>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs lisp">&gt;&gt;&gt; g = (<span class="hljs-name">x</span> ** <span class="hljs-number">2</span> for x in xrange(<span class="hljs-number">10</span>))<br>&gt;&gt;&gt; next(<span class="hljs-name">g</span>)<br><span class="hljs-number">0</span><br>&gt;&gt;&gt; next(<span class="hljs-name">g</span>)<br><span class="hljs-number">1</span><br>&gt;&gt;&gt; next(<span class="hljs-name">g</span>)<br><span class="hljs-number">4</span><br>&gt;&gt;&gt; next(<span class="hljs-name">g</span>)<br><span class="hljs-number">9</span><br>&gt;&gt;&gt; sum(<span class="hljs-name">x</span> ** <span class="hljs-number">3</span> for x in xrange(<span class="hljs-number">10</span>))<br><span class="hljs-number">2025</span><br>&gt;&gt;&gt; sum(<span class="hljs-name">x</span> ** <span class="hljs-number">3</span> for x in xrange(<span class="hljs-number">10</span>) if x % <span class="hljs-number">3</span> == <span class="hljs-number">1</span>)<br><span class="hljs-number">408</span><br></code></pre></td></tr></table></figure>

<ol start="13">
<li><strong>字典推导式</strong><br>Dicitonary comprehensions</li>
</ol>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; m = &#123;x: x ** <span class="hljs-number">2</span> <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(<span class="hljs-number">5</span>)&#125;<br>&gt;&gt;&gt; m<br>&#123;<span class="hljs-number">0</span>: <span class="hljs-number">0</span>, <span class="hljs-number">1</span>: <span class="hljs-number">1</span>, <span class="hljs-number">2</span>: <span class="hljs-number">4</span>, <span class="hljs-number">3</span>: <span class="hljs-number">9</span>, <span class="hljs-number">4</span>: <span class="hljs-number">16</span>&#125;<br>&gt;&gt;&gt; m = &#123;x: <span class="hljs-string">'A'</span> + str(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(<span class="hljs-number">10</span>)&#125;<br>&gt;&gt;&gt; m<br>&#123;<span class="hljs-number">0</span>: <span class="hljs-string">'A0'</span>, <span class="hljs-number">1</span>: <span class="hljs-string">'A1'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'A2'</span>, <span class="hljs-number">3</span>: <span class="hljs-string">'A3'</span>, <span class="hljs-number">4</span>: <span class="hljs-string">'A4'</span>, <span class="hljs-number">5</span>: <span class="hljs-string">'A5'</span>, <span class="hljs-number">6</span>: <span class="hljs-string">'A6'</span>, <span class="hljs-number">7</span>: <span class="hljs-string">'A7'</span>, <span class="hljs-number">8</span>: <span class="hljs-string">'A8'</span>, <span class="hljs-number">9</span>: <span class="hljs-string">'A9'</span>&#125;<br></code></pre></td></tr></table></figure>

<ol start="14">
<li><strong>使用字典推到式反转字典</strong><br>Inverting a dictionary using a dictionary comprehension</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-meta">&gt;&gt;</span>&gt; m = &#123;<span class="hljs-string">'a'</span>: <span class="hljs-number">1</span>, <span class="hljs-string">'b'</span>: <span class="hljs-number">2</span>, <span class="hljs-string">'c'</span>: <span class="hljs-number">3</span>, <span class="hljs-string">'d'</span>: <span class="hljs-number">4</span>&#125;<br><span class="hljs-meta">&gt;&gt;</span>&gt; m<br>&#123;<span class="hljs-string">'d'</span>: <span class="hljs-number">4</span>, <span class="hljs-string">'a'</span>: <span class="hljs-number">1</span>, <span class="hljs-string">'b'</span>: <span class="hljs-number">2</span>, <span class="hljs-string">'c'</span>: <span class="hljs-number">3</span>&#125;<br><span class="hljs-meta">&gt;&gt;</span>&gt; &#123;<span class="hljs-symbol">v:</span> k for k, v in m.items()&#125;<br>&#123;<span class="hljs-number">1</span>: <span class="hljs-string">'a'</span>, <span class="hljs-number">2</span>: <span class="hljs-string">'b'</span>, <span class="hljs-number">3</span>: <span class="hljs-string">'c'</span>, <span class="hljs-number">4</span>: <span class="hljs-string">'d'</span>&#125;<br></code></pre></td></tr></table></figure>

<ol start="15">
<li><strong>命名元组的调用</strong><br>Named tuples (collections.namedtuple)</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-meta">&gt;&gt;</span>&gt; Point = collections.namedtuple(<span class="hljs-string">'Point'</span>, [<span class="hljs-string">'x'</span>, <span class="hljs-string">'y'</span>])<br><span class="hljs-meta">&gt;&gt;</span>&gt; p = Point(x=<span class="hljs-number">1.0</span>, y=<span class="hljs-number">2.0</span>)<br><span class="hljs-meta">&gt;&gt;</span>&gt; p<br>Point(x=<span class="hljs-number">1.0</span>, y=<span class="hljs-number">2.0</span>)<br><span class="hljs-meta">&gt;&gt;</span>&gt; p.x<br><span class="hljs-number">1.0</span><br><span class="hljs-meta">&gt;&gt;</span>&gt; p.y<br><span class="hljs-number">2.0</span><br></code></pre></td></tr></table></figure>


<ol start="16">
<li><strong>从命名元组继承</strong><br>inheriting from named tuples</li>
</ol>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">&gt;&gt;&gt; <span class="hljs-keyword">class</span> <span class="hljs-constructor">Point(<span class="hljs-params">collections</span>.<span class="hljs-params">namedtuple</span>('PointBase', ['<span class="hljs-params">x</span>', '<span class="hljs-params">y</span>'])</span>):<span class="hljs-operator"><br>...     </span>__slots__ = <span class="hljs-literal">()</span><span class="hljs-operator"><br>...     </span>def <span class="hljs-constructor">__add__(<span class="hljs-params">self</span>, <span class="hljs-params">other</span>)</span>:<span class="hljs-operator"><br>...             </span>return <span class="hljs-constructor">Point(<span class="hljs-params">x</span>=<span class="hljs-params">self</span>.<span class="hljs-params">x</span> + <span class="hljs-params">other</span>.<span class="hljs-params">x</span>, <span class="hljs-params">y</span>=<span class="hljs-params">self</span>.<span class="hljs-params">y</span> + <span class="hljs-params">other</span>.<span class="hljs-params">y</span>)</span><br>&gt;&gt;&gt; p = <span class="hljs-constructor">Point(<span class="hljs-params">x</span>=1.0, <span class="hljs-params">y</span>=2.0)</span><br>&gt;&gt;&gt; q = <span class="hljs-constructor">Point(<span class="hljs-params">x</span>=2.0, <span class="hljs-params">y</span>=3.0)</span><br>&gt;&gt;&gt; p + q<br><span class="hljs-constructor">Point(<span class="hljs-params">x</span>=3.0, <span class="hljs-params">y</span>=5.0)</span><br></code></pre></td></tr></table></figure>

<ol start="17">
<li><strong>集合的使用</strong><br>sets and set operations</li>
</ol>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; A = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>&#125;<br>&gt;&gt;&gt; A<br><span class="hljs-keyword">set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>&gt;&gt;&gt; B = &#123;<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>&#125;<br>&gt;&gt;&gt; B<br><span class="hljs-keyword">set</span>([<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>])<br>&gt;&gt;&gt; A | B<br><span class="hljs-keyword">set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>])<br>&gt;&gt;&gt; A &amp; B<br><span class="hljs-keyword">set</span>([<span class="hljs-number">3</span>])<br>&gt;&gt;&gt; A - B<br><span class="hljs-keyword">set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>])<br>&gt;&gt;&gt; B - A<br><span class="hljs-keyword">set</span>([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>])<br>&gt;&gt;&gt; A ^ B<br><span class="hljs-keyword">set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>])<br>&gt;&gt;&gt; (A ^ B) == ((A - B) | (B - A))<br>True<br></code></pre></td></tr></table></figure>

<ol start="18">
<li><strong>集合的操作</strong></li>
</ol>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; A = collections.Counter([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>])<br>&gt;&gt;&gt; B = collections.Counter([<span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<br>&gt;&gt;&gt; A<br>Counter(&#123;<span class="hljs-number">2</span>: <span class="hljs-number">2</span>, <span class="hljs-number">1</span>: <span class="hljs-number">1</span>&#125;)<br>&gt;&gt;&gt; B<br>Counter(&#123;<span class="hljs-number">2</span>: <span class="hljs-number">2</span>, <span class="hljs-number">3</span>: <span class="hljs-number">1</span>&#125;)<br>&gt;&gt;&gt; A | B<br>Counter(&#123;<span class="hljs-number">2</span>: <span class="hljs-number">2</span>, <span class="hljs-number">1</span>: <span class="hljs-number">1</span>, <span class="hljs-number">3</span>: <span class="hljs-number">1</span>&#125;)<br>&gt;&gt;&gt; A &amp; B<br>Counter(&#123;<span class="hljs-number">2</span>: <span class="hljs-number">2</span>&#125;)<br>&gt;&gt;&gt; A + B<br>Counter(&#123;<span class="hljs-number">2</span>: <span class="hljs-number">4</span>, <span class="hljs-number">1</span>: <span class="hljs-number">1</span>, <span class="hljs-number">3</span>: <span class="hljs-number">1</span>&#125;)<br>&gt;&gt;&gt; A - B<br>Counter(&#123;<span class="hljs-number">1</span>: <span class="hljs-number">1</span>&#125;)<br>&gt;&gt;&gt; B - A<br>Counter(&#123;<span class="hljs-number">3</span>: <span class="hljs-number">1</span>&#125;)<br></code></pre></td></tr></table></figure>

<ol start="19">
<li><strong>可迭代对象的计数</strong></li>
</ol>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; A = collections.Counter([<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>])<br>&gt;&gt;&gt; A<br>Counter(&#123;<span class="hljs-number">3</span>: <span class="hljs-number">4</span>, <span class="hljs-number">1</span>: <span class="hljs-number">2</span>, <span class="hljs-number">2</span>: <span class="hljs-number">2</span>, <span class="hljs-number">4</span>: <span class="hljs-number">1</span>, <span class="hljs-number">5</span>: <span class="hljs-number">1</span>, <span class="hljs-number">6</span>: <span class="hljs-number">1</span>, <span class="hljs-number">7</span>: <span class="hljs-number">1</span>&#125;)<br>&gt;&gt;&gt; A.most_common(<span class="hljs-number">1</span>)<br>[(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)]<br>&gt;&gt;&gt; A.most_common(<span class="hljs-number">3</span>)<br>[(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>), (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), (<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)]<br></code></pre></td></tr></table></figure>

<ol start="20">
<li><strong>双端队列</strong><br>double-ended queue </li>
</ol>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; Q = collections.deque()<br>&gt;&gt;&gt; Q.append(<span class="hljs-number">1</span>)<br>&gt;&gt;&gt; Q.appendleft(<span class="hljs-number">2</span>)<br>&gt;&gt;&gt; Q.extend([<span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<br>&gt;&gt;&gt; Q.extendleft([<span class="hljs-number">5</span>, <span class="hljs-number">6</span>])<br>&gt;&gt;&gt; Q<br>deque([<span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>])<br>&gt;&gt;&gt; Q.pop()<br><span class="hljs-number">4</span><br>&gt;&gt;&gt; Q.popleft()<br><span class="hljs-number">6</span><br>&gt;&gt;&gt; Q<br>deque([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>])<br>&gt;&gt;&gt; Q.rotate(<span class="hljs-number">3</span>)<br>&gt;&gt;&gt; Q<br>deque([<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>])<br>&gt;&gt;&gt; Q.rotate(<span class="hljs-number">-3</span>)<br>&gt;&gt;&gt; Q<br>deque([<span class="hljs-number">5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>])<br></code></pre></td></tr></table></figure>
<ol start="21">
<li><strong>最大长度双端队列</strong><br>double-ended queue with maximum length</li>
</ol>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; last_three = collections.deque(maxlen=<span class="hljs-number">3</span>)<br>&gt;&gt;&gt; <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> xrange(<span class="hljs-number">10</span>):<br>...     last_three.append(i)<br>...     print <span class="hljs-string">', '</span>.join(str(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> last_three)<br>...<br><span class="hljs-number">0</span><br><span class="hljs-number">0</span>, <span class="hljs-number">1</span><br><span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span><br><span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span><br><span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span><br><span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span><br><span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span><br><span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span><br><span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span><br><span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span><br></code></pre></td></tr></table></figure>

<ol start="22">
<li><strong>有序字典</strong><br>ordered dictionaries </li>
</ol>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; m = dict((str(x), x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(<span class="hljs-number">10</span>))<br>&gt;&gt;&gt; print <span class="hljs-string">', '</span>.join(m.keys())<br><span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span><br>&gt;&gt;&gt; m = collections.OrderedDict((str(x), x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(<span class="hljs-number">10</span>))<br>&gt;&gt;&gt; print <span class="hljs-string">', '</span>.join(m.keys())<br><span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span><br>&gt;&gt;&gt; m = collections.OrderedDict((str(x), x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(<span class="hljs-number">10</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>))<br>&gt;&gt;&gt; print <span class="hljs-string">', '</span>.join(m.keys())<br><span class="hljs-number">10</span>, <span class="hljs-number">9</span>, <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<ol start="23">
<li><p><strong>将对象映射到唯一的计数数字</strong><br>mapping objects to unique counting numbers</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-meta">&gt;&gt;</span>&gt; import itertools, collections<br><span class="hljs-meta">&gt;&gt;</span>&gt; value_to_numeric_map = collections.defaultdict(itertools.count().next)<br><span class="hljs-meta">&gt;&gt;</span>&gt; value_to_numeric_map[<span class="hljs-string">'a'</span>]<br><span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;</span>&gt; value_to_numeric_map[<span class="hljs-string">'b'</span>]<br><span class="hljs-number">1</span><br><span class="hljs-meta">&gt;&gt;</span>&gt; value_to_numeric_map[<span class="hljs-string">'c'</span>]<br><span class="hljs-number">2</span><br><span class="hljs-meta">&gt;&gt;</span>&gt; value_to_numeric_map[<span class="hljs-string">'a'</span>]<br><span class="hljs-number">0</span><br><span class="hljs-meta">&gt;&gt;</span>&gt; value_to_numeric_map[<span class="hljs-string">'b'</span>]<br><span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>最大和最小元素</strong><br>largest and smallest elements(heapq.nlargest and heapq.nsmallest)</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; a = [random.randint(<span class="hljs-number">0</span>, <span class="hljs-number">100</span>) <span class="hljs-keyword">for</span> __ <span class="hljs-keyword">in</span> xrange(<span class="hljs-number">100</span>)]<br>&gt;&gt;&gt; heapq.nsmallest(<span class="hljs-number">5</span>, a)<br>[<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>]<br>&gt;&gt;&gt; heapq.nlargest(<span class="hljs-number">5</span>, a)<br>[<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">99</span>, <span class="hljs-number">98</span>, <span class="hljs-number">98</span>]<br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>笛卡尔积</strong><br>cartesian products</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> itertools.product([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>]):<br>(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)<br>(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>)<br>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>)<br>&gt;&gt;&gt; <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> itertools.product([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], repeat=<span class="hljs-number">4</span>):<br>...     print <span class="hljs-string">''</span>.join(str(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> p)<br>...<br><span class="hljs-number">0000</span><br><span class="hljs-number">0001</span><br><span class="hljs-number">0010</span><br><span class="hljs-number">0011</span><br><span class="hljs-number">0100</span><br><span class="hljs-number">0101</span><br><span class="hljs-number">0110</span><br><span class="hljs-number">0111</span><br><span class="hljs-number">1000</span><br><span class="hljs-number">1001</span><br><span class="hljs-number">1010</span><br><span class="hljs-number">1011</span><br><span class="hljs-number">1100</span><br><span class="hljs-number">1101</span><br><span class="hljs-number">1110</span><br><span class="hljs-number">1111</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>组合和替换组合</strong><br>combinations and combinations with replacemnet</p>
</li>
</ol>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> itertools.combinations([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>], <span class="hljs-number">3</span>):<br>...     print <span class="hljs-string">''</span>.join(str(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> c)<br>...<br><span class="hljs-number">123</span><br><span class="hljs-number">124</span><br><span class="hljs-number">125</span><br><span class="hljs-number">134</span><br><span class="hljs-number">135</span><br><span class="hljs-number">145</span><br><span class="hljs-number">234</span><br><span class="hljs-number">235</span><br><span class="hljs-number">245</span><br><span class="hljs-number">345</span><br>&gt;&gt;&gt; <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> itertools.combinations_with_replacement([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-number">2</span>):<br>...     print <span class="hljs-string">''</span>.join(str(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> c)<br>...<br><span class="hljs-number">11</span><br><span class="hljs-number">12</span><br><span class="hljs-number">13</span><br><span class="hljs-number">22</span><br><span class="hljs-number">23</span><br><span class="hljs-number">33</span><br></code></pre></td></tr></table></figure>

<ol start="26">
<li><strong>排列交换</strong><br>Permurtations</li>
</ol>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> itertools.permutations([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]):<br>...     print <span class="hljs-string">''</span>.join(str(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> p)<br>...<br><span class="hljs-number">1234</span><br><span class="hljs-number">1243</span><br><span class="hljs-number">1324</span><br><span class="hljs-number">1342</span><br><span class="hljs-number">1423</span><br><span class="hljs-number">1432</span><br><span class="hljs-number">2134</span><br><span class="hljs-number">2143</span><br><span class="hljs-number">2314</span><br><span class="hljs-number">2341</span><br><span class="hljs-number">2413</span><br><span class="hljs-number">2431</span><br><span class="hljs-number">3124</span><br><span class="hljs-number">3142</span><br><span class="hljs-number">3214</span><br><span class="hljs-number">3241</span><br><span class="hljs-number">3412</span><br><span class="hljs-number">3421</span><br><span class="hljs-number">4123</span><br><span class="hljs-number">4132</span><br><span class="hljs-number">4213</span><br><span class="hljs-number">4231</span><br><span class="hljs-number">4312</span><br><span class="hljs-number">4321</span><br></code></pre></td></tr></table></figure>

<ol start="27">
<li><strong>链式迭代</strong><br>chaining iterables <figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">&gt;&gt;&gt; a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br>&gt;&gt;&gt; <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> itertools.chain(itertools.combinations(a, <span class="hljs-number">2</span>), itertools.combinations(a, <span class="hljs-number">3</span>)):<br>...     print p<br>...<br>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br>(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br>&gt;&gt;&gt; <span class="hljs-keyword">for</span> subset <span class="hljs-keyword">in</span> itertools.chain.from_iterable(itertools.combinations(a, n) <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> range(len(a) + <span class="hljs-number">1</span>))<br>...     print subset<br>...<br>()<br>(<span class="hljs-number">1</span>,)<br>(<span class="hljs-number">2</span>,)<br>(<span class="hljs-number">3</span>,)<br>(<span class="hljs-number">4</span>,)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br>(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br></code></pre></td></tr></table></figure>


</li>
</ol>
<ol start="28">
<li><strong>按给定键进行分组</strong><br>grouping rows by a given key</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">from</span> <span class="hljs-string">operator</span> <span class="hljs-string">import</span> <span class="hljs-string">itemgetter</span><br><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">import</span> <span class="hljs-string">itertools</span><br><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">with</span> <span class="hljs-string">open('contactlenses.csv',</span> <span class="hljs-string">'r'</span><span class="hljs-string">)</span> <span class="hljs-attr">as infile:</span><br><span class="hljs-string">...</span>     <span class="hljs-string">data</span> <span class="hljs-string">=</span> <span class="hljs-string">[line.strip().split(',')</span> <span class="hljs-string">for</span> <span class="hljs-string">line</span> <span class="hljs-string">in</span> <span class="hljs-string">infile]</span><br><span class="hljs-string">...</span><br><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">data</span> <span class="hljs-string">=</span> <span class="hljs-string">data[1:]</span><br><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">def</span> <span class="hljs-string">print_data(rows):</span><br><span class="hljs-string">...</span>     <span class="hljs-string">print</span> <span class="hljs-string">'\n'</span><span class="hljs-string">.join('\t'.join('&#123;:</span> <span class="hljs-string">&lt;16&#125;'.format(s)</span> <span class="hljs-string">for</span> <span class="hljs-string">s</span> <span class="hljs-string">in</span> <span class="hljs-string">row)</span> <span class="hljs-string">for</span> <span class="hljs-string">row</span> <span class="hljs-string">in</span> <span class="hljs-string">rows)</span><br><span class="hljs-string">...</span><br><br><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">print_data(data)</span><br><span class="hljs-string">young</span>               <span class="hljs-string">myope</span>                   <span class="hljs-literal">no</span>                      <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">young</span>               <span class="hljs-string">myope</span>                   <span class="hljs-literal">no</span>                      <span class="hljs-string">normal</span>                  <span class="hljs-string">soft</span><br><span class="hljs-string">young</span>               <span class="hljs-string">myope</span>                   <span class="hljs-literal">yes</span>                     <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">young</span>               <span class="hljs-string">myope</span>                   <span class="hljs-literal">yes</span>                     <span class="hljs-string">normal</span>                  <span class="hljs-string">hard</span><br><span class="hljs-string">young</span>               <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">no</span>                      <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">young</span>               <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">no</span>                      <span class="hljs-string">normal</span>                  <span class="hljs-string">soft</span><br><span class="hljs-string">young</span>               <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">yes</span>                     <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">young</span>               <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">yes</span>                     <span class="hljs-string">normal</span>                  <span class="hljs-string">hard</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">myope</span>                   <span class="hljs-literal">no</span>                      <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">myope</span>                   <span class="hljs-literal">no</span>                      <span class="hljs-string">normal</span>                  <span class="hljs-string">soft</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">myope</span>                   <span class="hljs-literal">yes</span>                     <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">myope</span>                   <span class="hljs-literal">yes</span>                     <span class="hljs-string">normal</span>                  <span class="hljs-string">hard</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">no</span>                      <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">no</span>                      <span class="hljs-string">normal</span>                  <span class="hljs-string">soft</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">yes</span>                     <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">yes</span>                     <span class="hljs-string">normal</span>                  <span class="hljs-string">none</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">myope</span>                   <span class="hljs-literal">no</span>                      <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">myope</span>                   <span class="hljs-literal">no</span>                      <span class="hljs-string">normal</span>                  <span class="hljs-string">none</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">myope</span>                   <span class="hljs-literal">yes</span>                     <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">myope</span>                   <span class="hljs-literal">yes</span>                     <span class="hljs-string">normal</span>                  <span class="hljs-string">hard</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">no</span>                      <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">no</span>                      <span class="hljs-string">normal</span>                  <span class="hljs-string">soft</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">yes</span>                     <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">yes</span>                     <span class="hljs-string">normal</span>                  <span class="hljs-string">none</span><br><br><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">data.sort(key=itemgetter(-1))</span><br><span class="hljs-string">&gt;&gt;&gt;</span> <span class="hljs-string">for</span> <span class="hljs-string">value,</span> <span class="hljs-string">group</span> <span class="hljs-string">in</span> <span class="hljs-string">itertools.groupby(data,</span> <span class="hljs-attr">lambda r:</span> <span class="hljs-string">r[-1]):</span><br><span class="hljs-string">...</span>     <span class="hljs-string">print</span> <span class="hljs-string">'-----------'</span><br><span class="hljs-string">...</span>     <span class="hljs-string">print</span> <span class="hljs-string">'Group: '</span> <span class="hljs-string">+</span> <span class="hljs-string">value</span><br><span class="hljs-string">...</span>     <span class="hljs-string">print_data(group)</span><br><span class="hljs-string">...</span><br><span class="hljs-string">-----------</span><br><span class="hljs-attr">Group:</span> <span class="hljs-string">hard</span><br><span class="hljs-string">young</span>               <span class="hljs-string">myope</span>                   <span class="hljs-literal">yes</span>                     <span class="hljs-string">normal</span>                  <span class="hljs-string">hard</span><br><span class="hljs-string">young</span>               <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">yes</span>                     <span class="hljs-string">normal</span>                  <span class="hljs-string">hard</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">myope</span>                   <span class="hljs-literal">yes</span>                     <span class="hljs-string">normal</span>                  <span class="hljs-string">hard</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">myope</span>                   <span class="hljs-literal">yes</span>                     <span class="hljs-string">normal</span>                  <span class="hljs-string">hard</span><br><span class="hljs-string">-----------</span><br><span class="hljs-attr">Group:</span> <span class="hljs-string">none</span><br><span class="hljs-string">young</span>               <span class="hljs-string">myope</span>                   <span class="hljs-literal">no</span>                      <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">young</span>               <span class="hljs-string">myope</span>                   <span class="hljs-literal">yes</span>                     <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">young</span>               <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">no</span>                      <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">young</span>               <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">yes</span>                     <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">myope</span>                   <span class="hljs-literal">no</span>                      <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">myope</span>                   <span class="hljs-literal">yes</span>                     <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">no</span>                      <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">yes</span>                     <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">yes</span>                     <span class="hljs-string">normal</span>                  <span class="hljs-string">none</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">myope</span>                   <span class="hljs-literal">no</span>                      <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">myope</span>                   <span class="hljs-literal">no</span>                      <span class="hljs-string">normal</span>                  <span class="hljs-string">none</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">myope</span>                   <span class="hljs-literal">yes</span>                     <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">no</span>                      <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">yes</span>                     <span class="hljs-string">reduced</span>                 <span class="hljs-string">none</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">yes</span>                     <span class="hljs-string">normal</span>                  <span class="hljs-string">none</span><br><span class="hljs-string">-----------</span><br><span class="hljs-attr">Group:</span> <span class="hljs-string">soft</span><br><span class="hljs-string">young</span>               <span class="hljs-string">myope</span>                   <span class="hljs-literal">no</span>                      <span class="hljs-string">normal</span>                  <span class="hljs-string">soft</span><br><span class="hljs-string">young</span>               <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">no</span>                      <span class="hljs-string">normal</span>                  <span class="hljs-string">soft</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">myope</span>                   <span class="hljs-literal">no</span>                      <span class="hljs-string">normal</span>                  <span class="hljs-string">soft</span><br><span class="hljs-string">pre-presbyopic</span>      <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">no</span>                      <span class="hljs-string">normal</span>                  <span class="hljs-string">soft</span><br><span class="hljs-string">presbyopic</span>          <span class="hljs-string">hypermetrope</span>            <span class="hljs-literal">no</span>                      <span class="hljs-string">normal</span>                  <span class="hljs-string">soft</span><br></code></pre></td></tr></table></figure>

<ol start="29">
<li><strong>在任意目录中启动http服务器</strong></li>
</ol>
<p>start a static http server in any directory</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">python -m SimpleHTTPServer <span class="hljs-number">5000</span><br></code></pre></td></tr></table></figure>

        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>本文标题：Python-ticks</li>
        <li>本文作者：Roy</li>
        <li>创建时间：2019-12-25 08:53:55</li>
        <li>
            本文链接：https://www.yrzdm.com/2019/12/25/decomposing-elements-from-iteratable-objects-md/
        </li>
        <li>
            版权声明：本博客所有文章除特别声明外，均采用 <a class="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">BY-NC-SA</a> 许可协议。转载请注明出处！
        </li>
    </ul>
</div>

            </div>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2020/01/10/Matplotlib/"
                        >
                            <span class="left arrow-icon flex-center" >
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Matplotlib常见问题</span>
                                <span class="post-nav-item">上一篇</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2019/04/24/booklist/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">2019书单计划</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                            <span class="right arrow-icon flex-center" >
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
            <div class="comment-container">
                <div class="comments-container">
    <div id="comment-anchor"></div>
    
        
    <div class="valine-container">
        <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
        <div id="vcomments"></div>
        <script>
            new Valine({
                el: '#vcomments',
                appId: 'cO7jtWjCPwywVCl6aC0cfeWP-gzGzoHsz',
                appKey: 'mMo3ArkHk5Qi38gpBTXcvMWF',
                meta: ''.split(','),
                avatar: 'wavatar',
                enableQQ: true,
                placeholder: '',
                lang: 'zh-CN'.toLowerCase()
            });


            // Valine 评论列表增加"博主"标识
            const getValineDomTimer = setInterval(() => {
                const vcards = document.querySelectorAll('#vcomments .vcards .vcard');
                if (vcards.length > 0) {

                    let author = 'Roy';
                    if (author) {
                        author = author.toLocaleLowerCase();
                    }

                    for (let vcard of vcards) {
                        const vnick = vcard.querySelector('.vhead .vnick');
                        if (vnick.innerHTML.toLocaleLowerCase() === author) {
                            vcard.classList.add('author');
                        }
                    }
                    clearInterval(getValineDomTimer);
                } else {
                    clearInterval(getValineDomTimer);
                }
            }, 2000);
        </script>
    </div>


    
</div>

            </div>
        
    </div>
</div>


                    
                </main>

            </div>

            <div class="page-main-content-bottom">
                <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2016</span> -
            
            2021 <i class="fas fa-heart icon-animate"></i> <a href="/">Roy</a>
        </div>
        
        <div class="theme-info info-item">
            由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动 | 主题 <a class="theme-version" target="_blank"></a>
        </div>
    </div>
</footer>

            </div>
        </div>
    </main>

    <div class="sidebar-tools">
        <div class="tools-container">
    <ul class="tools-list">
        
            <li class="search popup-trigger">
                <i class="fas fa-search"></i>
            </li>
        

        
            <li class="go-comment">
                <i class="fas fa-comment"></i>
            </li>
        

        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

    </ul>
</div>

    </div>

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">

    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        <li class="tools-item tool-scroll-to-top flex-center">
            <i class="fas fa-arrow-up"></i>
        </li>

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="tools-ul-1">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>

    </ul>
</div>

    </div>

    <!-- page aside -->
    <aside class="page-aside">
        
            <div class="post-toc-wrap">
    <div class="post-toc">
        
    </div>
</div>
        
    </aside>

    <!-- image viewer -->
    <div class="image-viewer-container">
    <div class="img-box">
        <img src="">
    </div>
</div>


</div>



    <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-icon">
            <i class="fas fa-search"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.0.4/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.0.4/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.0.4/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.0.4/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.0.4/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.0.4/source/js/local-search.js"></script>




    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.0.4/source/js/left-side-toggle.js"></script>

    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.0.4/source/js/code-copy.js"></script>
    

    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.0.4/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.0.4/source/js/toc.js"></script>
    


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/miku.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":true}});</script></body>
</html>